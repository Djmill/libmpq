FAQ - Frequently Asked Questions
================================

Q: What is libmpq?
A: libmpq is a library for manipulating MoPaQ mpq archives mostly used
   used by Blizzard in their games.

Q: What can i do with libmpq?
A: With libmpq you can write applications which can extract, create
   and manipulate mpq archives.

Q: Is it legal?
A: Yes, i think so. I have no idea why it should not, all informations
   about the fileformat are available.

Q: Is there a description of the functions?
A: Since version 0.4.0 libmpq comes with a API documentation for
   developers. The documentation is written as manual pages.

Q: Can i help?
A: Yes, help is needed, not only with developing, also with testing.
   A good point to start is using a recent SVN version of mpq-tools.
   and trying to use it with every mpq archive you could get :)

Q: Can you give a small example to demonstrate the usage?
A: Of course :-) The example below takes first parameter
   as mpq archive and extracts the first file to a buffer.

   /*
    *  Compile with:
    *
    *  gcc mpq-example.c -o mpq-example -lmpq -lz -I/usr/local/include/libmpq
    */

   #include <libmpq/mpq.h>
   #include <stdlib.h>
   #include <limits.h>

   int main(int argc, char **argv) {
           mpq_archive_s *mpq_archive;
           int size;
           char *buffer;

           mpq_archive = malloc(sizeof(mpq_archive_s));

           libmpq__init();

           libmpq__archive_open(mpq_archive, argv[1]);
           libmpq__file_open(mpq_archive, 1);

           size = libmpq__file_info(mpq_archive, LIBMPQ_FILE_UNPACKED_SIZE, 1);
           buffer = malloc(size);

           libmpq__file_read(mpq_archive, buffer, size, 1);

           libmpq__file_close(mpq_archive, 1);
           libmpq__archive_close(mpq_archive);

           libmpq__shutdown();

           free(mpq_archive);
   }

